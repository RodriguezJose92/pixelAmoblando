class MudiPixel{constructor(){this.userID=null,this.path=null,this.device=null,this.detailDevice=null,this.date=null,this.timeInSession=null,this.skuNumber=null,this.idCompany=147,this.viewerEvent=0,this.interaction3D=0,this.interactionAR=0,this.addToCar=0,this.purchaseClick=0,this.category=null,this.subCategory=null,this.verifyAddToCarButton=0,this.verifyBreadcrumb=0,this.verifyPurchaseButton=0,this.verifyContainerMudiBtns=0,this.btnARVerify=0,this.verifySkuNumber=0}verifyAddToCar(){let e=document.body.querySelector(".cart-add");if(this.verifyAddToCarButton>5e3)return console.log("%cMudiPixel:\n","color:#820ad1; font-weight:600","The button to add to cart was not found ❌"),!1;e?(e.parentNode.addEventListener("click",()=>this.addToCar++),console.log("%cMudi Pixel: \n","color:#820ad1; font-weight:600","Add To car Correctly setting \uD83D\uDE80")):(requestAnimationFrame(this.verifyAddToCar.bind(this)),this.verifyAddToCarButton++)}verifyCategory(){let e=document.body.querySelector(".breadcrumb");if(this.verifyBreadcrumb>5e3)return console.log("%cMudiPixel:\n","color:#820ad1; font-weight:600","Breadcrumb was not found ❌"),!1;e?(this.category=e.children[1].innerText,this.subCategory=e.children[2].innerText,console.log("%cMudi Pixel: \n","color:#820ad1; font-weight:600","Category Correctly setting \uD83D\uDE80")):(requestAnimationFrame(this.verifyCategory.bind(this)),this.verifyBreadcrumb++)}verifyPurchase(){let e=document.body.querySelector(".send-event-purchase");e?(e.addEventListener("click",()=>this.purchaseClick++),console.log("%cMudi Pixel: \n","color:#820ad1; font-weight:600","Purchase Correctly setting \uD83D\uDE80")):(requestAnimationFrame(this.verifyPurchase.bind(this)),this.verifyPurchaseButton++)}verifyContainerBtnsMudi(){let e=document.body.querySelector(".btnsMudiContainer");if(this.verifyContainerMudiBtns>1500)return console.log("%cMudiPixel:\n","color:#820ad1; font-weight:600","Container Btns Mudi was not found ❌"),!1;e?(this.viewerEvent++,document.body.querySelector(".btnMudi3D").addEventListener("click",()=>{this.interaction3D++,this.verifyBtnAR()}),console.log("%cMudi Pixel: \n","color:#820ad1; font-weight:600","Container Btns Mudi Correctly setting \uD83D\uDE80")):(requestAnimationFrame(this.verifyContainerBtnsMudi.bind(this)),this.verifyContainerMudiBtns++)}verifyBtnAR(){let e=document.body.querySelector(".imgBtnAR"),i=!1;if(this.btnARVerify>1500)return console.log("%cMudiPixel:\n","color:#820ad1; font-weight:600","Btn Ar mode was not found ❌"),!1;e?(e.addEventListener("click",()=>i?i=!i:(i=!i,this.interactionAR++)),console.log("%cMudi Pixel: \n","color:#820ad1; font-weight:600","Btn AR mode Correctly setting \uD83D\uDE80")):(requestAnimationFrame(this.verifyBtnAR.bind(this)),this.btnARVerify++)}verifySku(){let e=document.body.querySelector(".btnsMudiContainer");if(this.btnARVerify>1500)return console.log("%cMudiPixel:\n","color:#820ad1; font-weight:600","SkuNumber was not found ❌"),!1;e?(this.skuNumber=e.getAttribute("skunumber"),console.log("%cMudi Pixel: \n","color:#820ad1; font-weight:600","SkuNumber Correctly setting \uD83D\uDE80")):(requestAnimationFrame(this.verifySku.bind(this)),this.verifySkuNumber++)}async identifyUserMudi(){let e=localStorage.getItem("userMudi"),i=async()=>{try{let e=await fetch("https://viewer.mudi.com.co:3589/api/mudiv1/userAnalitycs"),i=await e.json();localStorage.setItem("userMudi",i.data.insertId),this.userID=i.data.insertId}catch(t){throw Error(t)}};e?this.userID=e:i()}getPath(){this.path=location.href}recognizeDevice(){let e={Device:null,type:"Mobile"},i=navigator.userAgent,t=i.split(" ");if(i.toLowerCase().includes("android")){let n=t[2]+" "+t[3],s=t[4]+" "+t[5];e.Device=`Android ${s} V-${n}`}else i.toLowerCase().includes("iphone")?e.Device=`iPhone OS ${t[5].split("_").join(".")}`:i.toLowerCase().includes("ipad")?e.Device=`iPad OS ${t[5].split("_").join(".")}`:i.toLowerCase().includes("Macintosh")?e.Device=`Macintosh OS ${t[6].split("_").join(".")}`:t[1].toLowerCase().includes("windows")?(e.Device=`Windows V- ${t[3].replace(";"," ")} ${t[4].replace(";"," ")}`,e.type="Desk"):i.toLowerCase().includes("linux")&&!i.toLowerCase().includes("android")?(e.Device="Linux",e.type="Desk"):(e.Device="Desconocido",e.type=null);this.device=e.type,this.detailDevice=e.Device}getDate(){let e=new Date,i={month:e.getMonth()+1,day:e.getDate(),year:e.getFullYear(),hour:e.getHours(),minute:e.getMinutes(),seconds:e.getSeconds()};this.date=`${i.year}-${i.month<10?"0"+i.month:i.month}-${i.day} ${i.hour<10?"0"+i.hour:i.hour}:${i.minute}:${i.seconds}`}timeSesion(){let e={hour:0,minutes:0,seconds:0};setInterval(()=>{e.seconds++,e.seconds<10&&(e.seconds=`0${e.seconds}`,0==e.minutes&&(e.minutes="00"),0==e.hour&&(e.hour="00")),60==e.seconds&&(e.seconds="00",e.minutes++,e.minutes<10?e.minutes=`0${e.minutes}`:e.minutes=`${e.minutes}`),60==e.minutes&&(e.minutes="00",e.hour++,e.hour<10?e.hour=`0${e.hour}`:e.hour=`${e.hour}`),this.timeInSession=`${e.hour}:${e.minutes}:${e.seconds}`},1e3)}addEventBeforeUnload(){window.addEventListener("beforeunload",e=>{fetch("https://viewer.mudi.com.co:3589/api/mudiv1/registryPixelMudi",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({userID:this.userID,path:this.path,device:this.device,detailDevice:this.detailDevice,dateMudi:this.date,timeInSession:this.timeInSession,viewEvent:this.viewerEvent,interaction3D:this.interaction3D,interactionAR:this.interactionAR,addToCar:this.addToCar,purchaseClick:this.purchaseClick,category:this.category,subCategory:this.subCategory,skuNumber:this.skuNumber,idCompany:this.idCompany})})})}async pixelMudiOn(){await this.identifyUserMudi(),this.userID&&(this.verifyAddToCar(),this.verifyCategory(),this.verifySku(),this.verifyPurchase(),this.verifyContainerBtnsMudi(),this.getPath(),this.recognizeDevice(),this.getDate(),this.timeSesion(),this.addEventBeforeUnload())}}const mudiPixel=new MudiPixel;mudiPixel.pixelMudiOn();

/** https://www.toptal.com/developers/javascript-minifier */